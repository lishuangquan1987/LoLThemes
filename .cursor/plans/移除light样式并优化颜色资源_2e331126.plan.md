---
name: 移除Light样式并优化颜色资源
overview: 移除所有Light主题相关代码，优化Colors.Dark.xaml中的重复颜色值，规范化命名，删除未使用的key，并添加详细注释。
todos:
  - id: remove_light_files
    content: 删除 Colors.Light.xaml 文件
    status: pending
  - id: update_theme_manager
    content: 更新 ThemeManager.cs，移除 Light 主题相关代码
    status: pending
    dependencies:
      - remove_light_files
  - id: analyze_duplicate_colors
    content: 分析 Colors.Dark.xaml 中的重复颜色值并确定合并策略
    status: pending
  - id: merge_duplicate_colors
    content: 合并重复的颜色值，删除重复的 Color 和 Brush 定义
    status: pending
    dependencies:
      - analyze_duplicate_colors
  - id: normalize_naming
    content: 规范化所有 Color 和 Brush 资源的命名，使用统一的命名规范
    status: pending
    dependencies:
      - merge_duplicate_colors
  - id: find_unused_keys
    content: 扫描所有样式文件，找出未引用的 key 并删除
    status: pending
    dependencies:
      - normalize_naming
  - id: update_all_references
    content: 更新所有样式文件中的资源引用，使用新的命名
    status: pending
    dependencies:
      - normalize_naming
  - id: add_comments
    content: 为 Colors.Dark.xaml 添加详细注释，说明命名规范和使用场景
    status: pending
    dependencies:
      - normalize_naming
  - id: verify_compilation
    content: 编译项目并验证所有引用正确，确保没有遗漏
    status: pending
    dependencies:
      - update_all_references
      - add_comments
---

# 移除Light样式并优化颜色资源

## 1. 移除Light主题相关文件

### 1.1 删除文件

- 删除 `src/LOLThemes.Wpf/Themes/Colors.Light.xaml`

### 1.2 更新ThemeManager

- 移除 `Theme.Light` 枚举值（或标记为过时）
- 移除 `LightColorsUri` 常量
- 移除 `SwitchTheme` 方法中处理 Light 主题的逻辑
- 更新 `FindColorsResourceDictionary` 方法，只查找 `Colors.Dark.xaml`
- 更新注释，说明只支持 Dark 主题

### 1.3 更新Colors.xaml

- 移除对 `Colors.Light.xaml` 的引用说明
- 更新注释，说明只支持 Dark 主题

## 2. 分析并合并重复颜色值

### 2.1 识别重复颜色

根据 `Colors.Dark.xaml` 分析，以下颜色值重复：

**相同颜色值 `#1b2128`：**

- `BackgroundHover` = `BackgroundMedium` → 合并为 `BackgroundHover`

**相同颜色值 `#041c28`：**

- `BackgroundTertiary` = `SelectedBackground` → 合并为 `BackgroundTertiary`

**相同颜色值 `#1dbaa9`（青色）：**

- `SelectedAccent` = `SuccessGreen` = `ProgressFill` = `CurrencyBlueEssence` = `SelectedText` → 合并为 `AccentCyan`（主色）

**相同颜色值 `#b59758`（金色）：**

- `BorderGold` = `TextGold` = `WarningGold` = `CurrencyRiotPoints` → 合并为 `AccentGold`（主色）

**相同颜色值 `#fff5e0`：**

- `TextPrimary` = `TextBright` → 合并为 `TextPrimary`

### 2.2 合并策略

- 保留语义最通用的 key 作为主 key
- 删除重复的 Color 和 Brush 定义
- 更新所有样式文件中的引用

## 3. 规范化命名

### 3.1 命名规范（使用分类命名，下划线分隔）

参考 Material Design 等开源项目，采用以下命名规范：

**Color 资源命名：**

- `Color_Background_Dark` - 背景颜色
- `Color_Background_Secondary` - 次要背景
- `Color_Text_Primary` - 主文本颜色
- `Color_Text_Secondary` - 次要文本颜色
- `Color_Border_Default` - 默认边框颜色
- `Color_Accent_Cyan` - 强调色（青色）
- `Color_Accent_Gold` - 强调色（金色）
- `Color_State_Error` - 错误状态颜色
- `Color_State_Success` - 成功状态颜色
- `Color_State_Warning` - 警告状态颜色
- `Color_State_Info` - 信息状态颜色

**Brush 资源命名：**

- `Brush_Background_Dark` - 背景画刷
- `Brush_Text_Primary` - 文本画刷
- `Brush_Border_Default` - 边框画刷
- `Brush_Accent_Cyan` - 强调色画刷
- `Brush_Accent_Gold` - 强调色画刷

**或者使用更简洁的驼峰命名（推荐）：**

- `BackgroundDarkBrush`
- `TextPrimaryBrush`
- `BorderDefaultBrush`
- `AccentCyanBrush`
- `AccentGoldBrush`

### 3.2 命名分组

按功能分组：

- **Background**: BackgroundDark, BackgroundSecondary, BackgroundCard, BackgroundInput, BackgroundHover, BackgroundSelected
- **Text**: TextPrimary, TextSecondary, TextDisabled, TextCyan, TextWhite
- **Border**: BorderDefault, BorderDark, BorderMedium, BorderLight, BorderGold, BorderGray
- **Accent**: AccentCyan (原 SelectedAccent/SuccessGreen/ProgressFill), AccentGold (原 BorderGold/TextGold/WarningGold)
- **State**: StateError, StateSuccess, StateWarning, StateInfo
- **Currency**: CurrencyBlueEssence, CurrencyRiotPoints, CurrencyOrangeEssence, CurrencyTokens
- **Data**: DataRed, DataBlue, DataGreen, DataCyan, DataGold

## 4. 删除未使用的key

### 4.1 检查未使用的资源

需要扫描所有样式文件，找出未引用的 key：

- 检查所有 `DynamicResource` 和 `StaticResource` 引用
- 删除未被引用的 Color 和 Brush 定义
- 删除兼容性保留的旧 key（如果确认不再使用）

### 4.2 可能未使用的key（需要验证）

- `TextGoldLight` / `TextGoldLightBrush`
- `TextCyan` / `TextCyanBrush`（如果都用 SelectedAccent）
- `SelectedAccentBlue` / `SelectedAccentBlueBrush`
- `BorderAccentBrush`（兼容性保留）
- `PrimaryGoldBrush`, `PrimaryDarkBlueBrush`, `PrimaryCyanBrush`, `HoverGoldBrush`, `PressedGoldBrush`, `WarningYellowBrush`（兼容性保留）

## 5. 优化Colors.Dark.xaml结构

### 5.1 重新组织文件结构

```xml
<!-- 1. Color 定义（按分类组织） -->
<!-- 2. SolidColorBrush 定义（引用 Color 资源） -->
<!-- 3. 其他资源（Thickness 等） -->
```

### 5.2 添加详细注释

- 每个颜色分组添加注释说明用途
- 每个颜色值添加注释说明使用场景
- 添加文件头部注释说明命名规范

## 6. 更新所有引用

### 6.1 更新样式文件

更新所有 `src/LOLThemes.Wpf/Themes/Styles/*.xaml` 文件中的资源引用：

- `BackgroundHoverBrush` / `BackgroundMediumBrush` → `BackgroundHoverBrush`
- `SelectedBackgroundBrush` → `BackgroundTertiaryBrush`
- `SelectedAccentBrush` / `SuccessGreenBrush` / `ProgressFillBrush` / `CurrencyBlueEssenceBrush` / `SelectedTextBrush` → `AccentCyanBrush`
- `BorderGoldBrush` / `TextGoldBrush` / `WarningGoldBrush` / `CurrencyRiotPointsBrush` → `AccentGoldBrush`
- `TextBrightBrush` → `TextPrimaryBrush`

### 6.2 更新代码文件

检查 C# 代码中是否有硬编码的资源 key 引用

## 7. 添加代码注释

### 7.1 Colors.Dark.xaml

- 文件头部添加说明注释
- 每个颜色分组添加注释
- 每个颜色值添加使用说明

### 7.2 ThemeManager.cs

- 更新注释，说明只支持 Dark 主题
- 移除 Light 相关的注释

## 实施步骤

1. **第一步：删除 Light 相关代码**

   - 删除 `Colors.Light.xaml`
   - 更新 `ThemeManager.cs`
   - 更新 `Colors.xaml`

2. **第二步：分析并合并颜色**

   - 分析 `Colors.Dark.xaml` 中的重复颜色
   - 确定合并策略和新的命名

3. **第三步：规范化命名**

   - 重命名所有 Color 和 Brush 资源
   - 使用统一的命名规范

4. **第四步：删除未使用的key**

   - 扫描所有引用
   - 删除未使用的资源

5. **第五步：更新所有引用**

   - 批量更新所有样式文件中的引用
   - 确保编译通过

6. **第六步：添加注释**

   - 为所有资源添加详细注释
   - 更新文件头部说明