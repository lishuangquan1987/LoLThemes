<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:LOLThemes.Wpf.Controls">
    
    <!-- åˆå¹¶åŸºç¡€èµ„æºï¼Œç¡®ä¿å¯ä»¥è®¿é—® Colors å’Œ Fonts -->
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/LOLThemes.Wpf;component/Themes/Colors.xaml"/>
        <ResourceDictionary Source="/LOLThemes.Wpf;component/Themes/Fonts.xaml"/>
        <ResourceDictionary Source="/LOLThemes.Wpf;component/Themes/Styles/ButtonStyles.xaml"/>
        <ResourceDictionary Source="/LOLThemes.Wpf;component/Themes/Styles/CodeBlockStyles.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <!-- DropShadowEffect èµ„æºï¼ˆå¿…é¡»åœ¨ Style ä¹‹å‰å®šä¹‰ï¼‰ -->
    <DropShadowEffect x:Key="DropShadowEffect"
                     Color="#000000"
                     BlurRadius="10"
                     ShadowDepth="3"
                     Opacity="0.5"/>

    <Style TargetType="{x:Type controls:ShowMeTheXAML}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:ShowMeTheXAML}">
                    <Grid>
                        <!-- æ˜¾ç¤ºåŒ…è£¹çš„æŽ§ä»¶å’Œå›¾æ ‡æŒ‰é’® -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- æ˜¾ç¤ºåŒ…è£¹çš„æŽ§ä»¶ -->
                            <ContentPresenter Grid.Column="0"
                                            Content="{TemplateBinding Content}"/>
                            
                            <!-- ä»£ç æŸ¥çœ‹å›¾æ ‡æŒ‰é’® -->
                            <Button x:Name="PART_ToggleButton"
                                   Grid.Column="1"
                                   Content="ðŸ“‹"
                                   Width="30" Height="30"
                                   Margin="5,0,0,0"
                                   Padding="0"
                                   Background="Transparent"
                                   BorderThickness="0"
                                   Cursor="Hand"
                                   ToolTip="æŸ¥çœ‹ XAML ä»£ç "
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Top">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="Button">
                                                    <Border Background="{TemplateBinding Background}"
                                                           BorderBrush="{TemplateBinding BorderBrush}"
                                                           BorderThickness="{TemplateBinding BorderThickness}"
                                                           CornerRadius="3"
                                                           Padding="{TemplateBinding Padding}">
                                                        <ContentPresenter HorizontalAlignment="Center"
                                                                        VerticalAlignment="Center"/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Background" Value="#40FFFFFF"/>
                                                        </Trigger>
                                                        <Trigger Property="IsPressed" Value="True">
                                                            <Setter Property="Background" Value="#60FFFFFF"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </Button.Style>
                            </Button>
                        </Grid>
                        
                        <!-- ä»£ç æ‚¬æµ®æ¡† -->
                        <Popup x:Name="PART_CodePopup"
                              Placement="Bottom"
                              StaysOpen="False"
                              AllowsTransparency="True"
                              PopupAnimation="Fade"
                              IsOpen="False">
                            <Border Style="{StaticResource CodeBlockContainerStyle}"
                                   MinWidth="400"
                                   MaxWidth="800"
                                   MaxHeight="500"
                                   Effect="{StaticResource DropShadowEffect}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <!-- æ ‡é¢˜æ å’Œå¤åˆ¶æŒ‰é’® -->
                                    <Grid Grid.Row="0" Margin="0,0,0,10">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <TextBlock Grid.Column="0"
                                                  Text="XAML ä»£ç "
                                                  FontSize="{StaticResource FontSizeMedium}"
                                                  FontWeight="{StaticResource FontWeightBold}"
                                                  Foreground="{StaticResource TextPrimaryBrush}"
                                                  VerticalAlignment="Center"/>
                                        
                                        <Button x:Name="PART_CopyButton"
                                               Grid.Column="1"
                                               Content="ðŸ“‹ å¤åˆ¶"
                                               Style="{StaticResource CodeBlockButtonStyle}"
                                               Padding="8,4"
                                               MinWidth="70"/>
                                    </Grid>
                                    
                                    <!-- ä»£ç æ˜¾ç¤ºåŒºåŸŸï¼ˆå¸¦æ»šåŠ¨æ¡ï¼‰ -->
                                    <ScrollViewer Grid.Row="1"
                                                VerticalScrollBarVisibility="Auto"
                                                HorizontalScrollBarVisibility="Auto"
                                                Background="Transparent"
                                                BorderThickness="0"
                                                Focusable="False">
                                        <RichTextBox x:Name="PART_CodeRichTextBox"
                                                    IsReadOnly="True"
                                                    Background="Transparent"
                                                    BorderThickness="0"
                                                    Padding="5"
                                                    FontFamily="Consolas"
                                                    FontSize="13"
                                                    Foreground="#D4D4D4"
                                                    Focusable="True">
                                            <RichTextBox.Resources>
                                                <Style TargetType="Paragraph">
                                                    <Setter Property="Margin" Value="0"/>
                                                    <Setter Property="LineHeight" Value="20"/>
                                                </Style>
                                            </RichTextBox.Resources>
                                        </RichTextBox>
                                    </ScrollViewer>
                                </Grid>
                            </Border>
                        </Popup>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>

